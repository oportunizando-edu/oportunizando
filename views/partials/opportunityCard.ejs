<div class="bg-[#FAFAFA] p-2 rounded-md border border-black-1/2 w-full h-full">
    <div class="flex flex-col justify-between mx-4">
        <div class="flex justify-between items-center gap-2">
            <h2 class="text-3xl text-[#442F72] font-bold p-2 pb-0 line-clamp-3">
                <%= opportunity.title.charAt(0).toUpperCase() + opportunity.title.slice(1) %>
            </h2>
            <% if(opportunity.is_open){ %>
                <div class="bg-[#3C9E4F] rounded-md text-white font-bold flex justify-center w-fit p-1 px-3">
                    Aberto
                </div>
            <% } else { %>
                <div class="bg-[#FF3F42] rounded-md text-white font-bold flex justify-center w-fit p-1 px-3">
                    Fechado
                </div>
            <% } %>
        </div>
        <div class="flex justify-between gap-4 p-2">
            <%if (opportunity.local) { %>
                <div class="flex justify-evenly items-center text-sm font-bold gap-2">
                    <img src="/img/local.svg" alt="Símbolo de local">
                    <p><%= opportunity.local %></p>
                </div>
                <div class="break-normal text-right">
                    <!--Formatar para a data normal no Brasil -->
                    Data limite: <span class="font-bold"><%= new Intl.DateTimeFormat('pt-BR').format(opportunity.deadline) %></span>
                </div>
            <%} else {%>
                <div class="break-normal text-right ml-auto">
                    <!--Formatar para a data normal no Brasil -->
                    Data limite: <span class="font-bold"><%= new Intl.DateTimeFormat('pt-BR').format(opportunity.deadline) %></span>
                </div>
            <%}%>
            
        </div>
    </div>
    <p class="mx-6 my-3 mb-6 line-clamp-3 text-base">
        <%= opportunity.description %>
    </p>
    <div class="flex justify-between">
        <% if(opportunity.benefits){ %>
            <div class="flex flex-col w-full mx-6">
                <h3 class="text-lg font-bold text-[#4A2E88]">
                    Benefícios
                </h3>
                <div class="line-clamp-4">
                    <ul class="list-disc mx-3">
                        <% const benefits = opportunity.benefits.split("\n"); %>
                        <% if(benefits.length < 3 ){%>
                            <% benefits.forEach( benefit => { %>
                                <li class=""><%= benefit%></li>
                            <% }) %>
                        <% } else { %>
                                <% for(let i = 0; i < 3; i++){ %>
                                    <li class=""><%= benefits[i] %></li>
                                <% } %>
                            <span class="font-bold text-[#442F72]">...</span>
                        <% } %>
                    </ul>
                </div>
            </div>
        <%}%>
        <% if(opportunity.requirements){%>
            <div class="flex flex-col  items-start mx-2">
                <h3 class="text-lg font-bold text-[#4A2E88]">
                    Requisitos
                </h3>
                <div class="line-clamp-3">
                    <ul class="list-disc mx-3">
                        <% const requirements = opportunity.requirements.split("\n"); %>
                        <% if(requirements.length < 4 ){%>
                            <% requirements.forEach( requirement => { %>
                                <li class=""><%= requirement%></li>
                            <% }) %>
                        <% } else { %>
                                <% for(let i = 0; i < 3; i++){ %>
                                    <li class=""><%= requirements[i] %></li>
                                <% } %>
                            <span class="font-bold text-[#442F72]">...</span>
                        <% } %>
                    </ul>
                </div>
            </div>
        <% } %>
    </div>
    <a href="/opportunity/<%= opportunity.id %>"
        class="flex justify-center bg-[#5F37B5] text-white font-bold rounded-md mx-8 my-4 py-2">
        Ver mais
    </a>
</div>